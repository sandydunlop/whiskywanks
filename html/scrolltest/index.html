<html>

<head>
<script>

    var isInViewport = function (elem) {
        var bounding = elem.getBoundingClientRect();
        return (
            bounding.top >= 0 &&
            bounding.left >= 0 &&
            bounding.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
            bounding.right <= (window.innerWidth || document.documentElement.clientWidth)
        );
    };

</script>
</head>

<body>

<div id="container">
    <h1 id="h0">Post Title 0</h1>
    <img src="../media/glencairn.jpg"/>
</div>

<script>
    var container = document.getElementById("container");
    var c = 0;
    var h = document.querySelector('#h0');
    window.addEventListener('scroll', function (event) {
        if (isInViewport(h)) {
            //alert("Visible");
                
            for (i = 0; i< 10; i=i+1) {
                var brk = document.createElement("BR");
                container.appendChild(brk);
            }

            c=c+1;
            var node = document.createElement("H1");
            node.setAttribute("id", "h" + c);

            var textnode = document.createTextNode("Post Title " + c);
            node.appendChild(textnode);
            container.appendChild(node);

            var image = document.createElement("IMG");
            image.setAttribute("src", "../media/glencairn.jpg");
            container.appendChild(image);

            h = document.querySelector('#h' + c);

        }
    }, false);
</script>
</body>
</html>
